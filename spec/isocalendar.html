<!doctype html>
<meta charset="utf8">

<emu-clause id="sec-temporal-isocalendar-objects">
  <h1>Temporal.ISO8601Calendar Objects</h1>
  <p>A Temporal.ISO8601Calendar object is an immutable Object representing an ISO 8601 calendar.</p>

  <emu-clause id="sec-temporal-isocalendar-constructor">
    <h1>The Temporal.ISO8601Calendar Constructor</h1>
    <p>The Temporal.ISO8601Calendar constructor:</p>
    <ul>
      <li>is the intrinsic object <dfn>%Temporal.ISO8601Calendar%</dfn>.</li>
      <li>creates and initializes a new Temporal.ISO8601Calendar object when called as a constructor.</li>
      <li>is designed to be subclassable. It may be used as the value of an `extends` clause of a class definition. Subclass constructors that intend to inherit the specified Temporal.ISO8601Calendar behaviour must include a super call to the %Temporal.ISO8601Calendar% constructor to create and initialize subclass instances with the necessary internal slots.</li>
      <li>has a *"length"* property whose value is 1.</li>
    </ul>

    <emu-clause id="sec-temporal.iso8601calendar">
      <h1>Temporal.ISO8601Calendar ( _id_ )</h1>
      <p>
        When the `Temporal.ISO8601Calendar` function is called, the following steps are taken:
      </p>
      <emu-alg>
        1. If NewTarget is *undefined*, then
          1. Throw a *TypeError* exception.
        1. Set _id_ to ? ToString(_id_).
        1. Let _calendar_ be ? OrdinaryCreateFromConstructor(NewTarget, *"%Temporal.ISO8601Calendar.prototype%"*, ¬´ [[InitializedTemporalISO8601Calendar]], [[InitializedTemporalCalendar]], [[Identifier]] ¬ª).
        1. Set _calendar_.[[Identifier]] to _id_.
        1. Return _calendar_.
      </emu-alg>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-the-temporal-isocalendar-constructor">
    <h1>Properties of the Temporal.ISO8601Calendar Constructor</h1>
    <p>The Temporal.ISO8601Calendar prototype:</p>
    <ul>
      <li>has a [[Prototype]] internal slot whose value is %Temporal.Calendar.prototype%.</li>
      <li>has the following properties:</li>
    </ul>

    <emu-clause id="sec-temporal-isocalendar-prototype">
      <h1>Temporal.ISO8601Calendar.prototype</h1>
      <p>The initial value of Temporal.ISO8601Calendar.prototype is %Temporal.ISO8601Calendar.prototype%.</p>
      <p>This property has the attributes { [[Writable]]: *false*, [[Enumerable]]: *false*, [[Configurable]]: *false* }.</p>
    </emu-clause>

    <emu-clause id="sec-get-temporal.iso8601calendar-@@species">
      <h1>get Temporal.ISO8601Calendar [ @@species ]</h1>
      <p>
        `Temporal.ISO8601Calendar[@@species]` is an accessor property whose set accessor function is *undefined*.
        Its get accessor function performs the following steps:
      </p>
      <emu-alg>
        1. Return the *this* value.
      </emu-alg>

      <p>The value of the *"name"* property of this function is *"get [Symbol.species]"*.</p>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-the-temporal-isocalendar-prototype-object">
    <h1>Properties of the Temporal.ISO8601Calendar Prototype Object</h1>

    <p>The Temporal.ISO8601Calendar prototype object</p>
    <ul>
      <li>is the intrinsic object <dfn>%Temporal.ISO8601Calendar.prototype%</dfn>.
      <li>is itself an ordinary object.
      <li>is not a Temporal.ISO8601Calendar instance and does not have a [[InitializedTemporalCalendar]] internal slot.
      <li>has a [[Prototype]] internal slot whose value is %Temporal.Calendar.prototype%.
    </ul>

    <emu-clause id="sec-Temporal.ISO8601Calendar.prototype.constructor">
      <h1>Temporal.ISO8601Calendar.prototype.constructor</h1>
      <p>The initial value of Temporal.ISO8601Calendar.prototype.constructor is %Temporal.ISO8601Calendar%.</p>
    </emu-clause>

    <emu-clause id="sec-Temporal.ISO8601Calendar.prototype-@@tostringtag">
      <h1>Temporal.ISO8601Calendar.prototype[ @@toStringTag ]</h1>
      <p>
        The initial value of the @@toStringTag property is the string value `"Temporal.ISO8601Calendar"`.
      </p>
      <p>
        This property has the attributes { [[Writable]]: *false*, [[Enumerable]]: *false*, [[Configurable]]: *true* }.
      </p>
    </emu-clause>

    <emu-clause id="sec-temporal.iso8601calendar.prototype.datefromfields">
      <h1>Temporal.ISO8601Calendar.prototype.dateFromFields ( _fields_, _options_, _constructor_ )</h1>
      <p>
        The `dateFromFields` method takes three arguments, _fields_, _options_, and _constructor_.
        The following steps are taken:
      </p>
      <emu-alg>
        1. <mark>TODO.</mark>
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal.iso8601calendar.prototype.yearmonthfromfields">
      <h1>Temporal.ISO8601Calendar.prototype.yearMonthFromFields ( _fields_, _options_, _constructor_ )</h1>
      <p>
        The `yearMonthFromFields` method takes three arguments, _fields_, _options_, and _constructor_.
        The following steps are taken:
      </p>
      <emu-alg>
        1. <mark>TODO.</mark>
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal.iso8601calendar.prototype.monthdayfromfields">
      <h1>Temporal.ISO8601Calendar.prototype.monthDayFromFields ( _fields_, _options_, _constructor_ )</h1>
      <p>
        The `monthDayFromFields` method takes three arguments, _fields_, _options_, and _constructor_.
        The following steps are taken:
      </p>
      <emu-alg>
        1. <mark>TODO.</mark>
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal.iso8601calendar.prototype.dateadd">
      <h1>Temporal.ISO8601Calendar.prototype.dateAdd ( _date_, _duration_, _options_, _constructor_ )</h1>
      <p>
        The `dateAdd` method takes four arguments, _date_, _duration_, _options_, and _constructor_.
        The following steps are taken:
      </p>
      <emu-alg>
        1. Set _date_ to ? ToTemporalDate(_date_).
        1. Set _duration_ to ? ToTemporalDuration(_duration_).
        1. <mark>TODO.</mark>
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal.iso8601calendar.prototype.datesubtract">
      <h1>Temporal.ISO8601Calendar.prototype.dateSubtract ( _date_, _duration_, _options_, _constructor_ )</h1>
      <p>
        The `dateSubtract` method takes four arguments, _date_, _duration_, _options_, and _constructor_.
        The following steps are taken:
      </p>
      <emu-alg>
        1. Set _date_ to ? ToTemporalDate(_date_).
        1. Set _duration_ to ? ToTemporalDuration(_duration_).
        1. <mark>TODO.</mark>
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal.iso8601calendar.prototype.dateuntil">
      <h1>Temporal.ISO8601Calendar.prototype.dateUntil ( _one_, _two_, _options_ )</h1>
      <p>
        The `dateUntil` method takes three arguments, _one_, _two_, and _options_.
        The following steps are taken:
      </p>
      <emu-alg>
        1. Set _one_ to ? ToTemporalDate(_one_).
        1. Set _two_ to ? ToTemporalDate(_two_).
        1. <mark>TODO.</mark>
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal.iso8601calendar.prototype.year">
      <h1>Temporal.ISO8601Calendar.prototype.year ( _dateOrDateTime_ )</h1>
      <p>
        The `year` method takes one argument _dateOrDateTime_.
        The following steps are taken:
      </p>
      <emu-alg>
        1. If _dateOrDateTime_ does not have an [[ISOYear]] internal slot, then
          1. Set _dateOrDateTime_ to ? ToTemporalDate(_dateOrDateTime_).
        1. Return ùîΩ(_dateOrDateTime_.[[ISOYear]]).
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal.iso8601calendar.prototype.month">
      <h1>Temporal.ISO8601Calendar.prototype.month ( _dateOrDateTime_ )</h1>
      <p>
        The `month` method takes one argument _dateOrDateTime_.
        The following steps are taken:
      </p>
      <emu-alg>
        1. If _dateOrDateTime_ does not have an [[ISOMonth]] internal slot, then
          1. Set _dateOrDateTime_ to ? ToTemporalDate(_dateOrDateTime_).
        1. Return ùîΩ(_dateOrDateTime_.[[ISOMonth]]).
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal.iso8601calendar.prototype.day">
      <h1>Temporal.ISO8601Calendar.prototype.day ( _dateOrDateTime_ )</h1>
      <p>
        The `day` method takes one argument _dateOrDateTime_.
        The following steps are taken:
      </p>
      <emu-alg>
        1. If _dateOrDateTime_ does not have an [[ISODay]] internal slot, then
          1. Set _dateOrDateTime_ to ? ToTemporalDate(_dateOrDateTime_).
        1. Return ùîΩ(_dateOrDateTime_.[[ISODay]]).
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal.iso8601calendar.prototype.dayofweek">
      <h1>Temporal.ISO8601Calendar.prototype.dayOfWeek ( _dateOrDateTime_ )</h1>
      <p>
        The `dayOfWeek` method takes one argument _dateOrDateTime_.
        The following steps are taken:
      </p>
      <emu-alg>
        1. Set _date_ to ? ToTemporalDate(_dateOrDateTime_).
        1. Return ùîΩ(! ToDayOfWeek(_dateOrDateTime_.[[ISOYear]], _dateOrDateTime_.[[ISOMonth]], _dateOrDateTime_.[[ISODay]])).
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal.iso8601calendar.prototype.dayofyear">
      <h1>Temporal.ISO8601Calendar.prototype.dayOfYear ( _dateOrDateTime_ )</h1>
      <p>
        The `dayOfYear` method takes one argument _dateOrDateTime_.
        The following steps are taken:
      </p>
      <emu-alg>
        1. Set _date_ to ? ToTemporalDate(_dateOrDateTime_).
        1. Return ùîΩ(! ToDayOfYear(_dateOrDateTime_.[[ISOYear]], _dateOrDateTime_.[[ISOMonth]], _dateOrDateTime_.[[ISODay]])).
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal.iso8601calendar.prototype.weekofyear">
      <h1>Temporal.ISO8601Calendar.prototype.weekOfYear ( _dateOrDateTime_ )</h1>
      <p>
        The `weekOfYear` method takes one argument _dateOrDateTime_.
        The following steps are taken:
      </p>
      <emu-alg>
        1. Set _date_ to ? ToTemporalDate(_dateOrDateTime_).
        1. Return ùîΩ(! ToWeekOfYear(_dateOrDateTime_.[[ISOYear]], _dateOrDateTime_.[[ISOMonth]], _dateOrDateTime_.[[ISODay]])).
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal.iso8601calendar.prototype.daysinweek">
      <h1>Temporal.ISO8601Calendar.prototype.daysInWeek ( _dateOrDateTime_ )</h1>
      <p>
        The `daysInWeek` method takes one argument _dateOrDateTime_.
        The following steps are taken:
      </p>
      <emu-alg>
        1. Perform ? ToTemporalDate(_dateOrDateTime_).
        1. Return *7*<sub>ùîΩ</sub>.
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal.iso8601calendar.prototype.daysinmonth">
      <h1>Temporal.ISO8601Calendar.prototype.daysInMonth ( _dateOrDateTime_ )</h1>
      <p>
        The `daysInMonth` method takes one argument _dateOrDateTime_.
        The following steps are taken:
      </p>
      <emu-alg>
        1. If _dateOrDateTime_ does not have [[ISOYear]] and [[ISOMonth]] internal slots, then
          1. Set _dateOrDateTime_ to ? ToTemporalDate(_dateOrDateTime_).
        1. Return ùîΩ(! DaysInMonth(_dateOrDateTime_.[[ISOYear]], _dateOrDateTime_.[[ISOMonth]])).
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal.iso8601calendar.prototype.daysinyear">
      <h1>Temporal.ISO8601Calendar.prototype.daysInYear ( _dateOrDateTime_ )</h1>
      <p>
        The `daysInYear` method takes one argument _dateOrDateTime_.
        The following steps are taken:
      </p>
      <emu-alg>
        1. If _dateOrDateTime_ does not have an [[ISOYear]] internal slot, then
          1. Set _dateOrDateTime_ to ? ToTemporalDate(_dateOrDateTime_).
        1. Return ùîΩ(! DaysInYear(_dateOrDateTime_.[[ISOYear]])).
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal.iso8601calendar.prototype.monthsinyear">
      <h1>Temporal.ISO8601Calendar.prototype.monthsInYear ( _dateOrDateTime_ )</h1>
      <p>
        The `monthsInYear` method takes one argument _dateOrDateTime_.
        The following steps are taken:
      </p>
      <emu-alg>
        1. Perform ? ToTemporalDateTime(_dateOrDateTime_).
        1. Return *12*<sub>ùîΩ</sub>.
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal.iso8601calendar.prototype.inleapyear">
      <h1>Temporal.ISO8601Calendar.prototype.inLeapYear ( _dateOrDateTime_ )</h1>
      <p>
        The `inLeapYear` method takes one argument _dateOrDateTime_.
        The following steps are taken:
      </p>
      <emu-alg>
        1. If _dateOrDateTime_ does not have an [[ISOYear]] internal slot, then
          1. Set _dateOrDateTime_ to ? ToTemporalDate(_dateOrDateTime_).
        1. Return ! IsLeapYear(_dateOrDateTime_.[[ISOYear]]).
      </emu-alg>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-temporal-isocalendar-instances">
    <h1>Properties of Temporal.ISO8601Calendar Instances</h1>

    <p>Temporal.ISO8601Calendar instances are ordinary objects that inherit properties from the %Temporal.ISO8601Calendar.prototype%. Temporal.ISO8601Calendar instances also have a [[Identifier]] internal slot. The value of this internal slot is a string.</p>
  </emu-clause>

  <emu-clause id="sec-temporal-iso8601calendar-abstract-ops">
    <h1>Abstract Operations for Temporal.ISO8601Calendar Objects</h1>

    <emu-clause id="sec-temporal-isleapyear" aoid="IsLeapYear">
      <h1>IsLeapYear ( _year_ )</h1>
      <emu-alg>
        1. Assert: _year_ is an integer.
        1. If _year_ modulo 4 ‚â† 0, return *false*.
        1. If _year_ modulo 400 = 0, return *true*.
        1. If _year_ modulo 100 = 0, return *false*.
        1. Return *true*.
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal-daysinyear" aoid="DaysInYear">
      <h1>DaysInYear ( _year_ )</h1>
      <emu-alg>
        1. Assert: _year_ is an integer.
        1. If ! IsLeapYear(_year_) is *true*, then
          1. Return 366.
        1. Return 365.
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal-daysinmonth" aoid="DaysInMonth">
      <h1>DaysInMonth ( _year_, _month_ )</h1>
      <emu-alg>
        1. Assert: _year_ is an integer.
        1. Assert: _month_ is an integer, _month_ ‚â• 1, and _month_ ‚â§ 12.
        1. If _month_ is 1, 3, 5, 7, 8, 10, or 12, return 31.
        1. If _month_ is 4, 6, 9, or 11, return 30.
        1. If ! IsLeapYear(_year_) is *true*, return 29.
        1. Return 28.
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal-todayofweek" aoid="ToDayOfWeek">
      <h1>ToDayOfWeek ( _year_, _month_, _day_ )</h1>
      <emu-alg>
        1. Assert: _year_ is an integer.
        1. Assert: _month_ is an integer.
        1. Assert: _day_ is an integer.
        1. Let _date_ be the date given by _year_, _month_, and _day_.
        1. Return _date_'s day of the week according to ISO-8601.
      </emu-alg>
      <emu-note>Monday is 1 and Sunday is 7.</emu-note>
    </emu-clause>

    <emu-clause id="sec-temporal-todayofyear" aoid="ToDayOfYear">
      <h1>ToDayOfYear ( _year_, _month_, _day_ )</h1>
      <emu-alg>
        1. Assert: _year_ is an integer.
        1. Assert: _month_ is an integer.
        1. Assert: _day_ is an integer.
        1. Let _date_ be the date given by _year_, _month_, and _day_.
        1. Return _date_'s ordinal date in the year according to ISO-8601.
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal-toweekofyear" aoid="ToWeekOfYear">
      <h1>ToWeekOfYear ( _year_, _month_, _day_ )</h1>
      <emu-alg>
        1. Assert: _year_ is an integer.
        1. Assert: _month_ is an integer.
        1. Assert: _day_ is an integer.
        1. Let _date_ be the date given by _year_, _month_, and _day_.
        1. Return _date_'s week number according to ISO-8601.
      </emu-alg>
      <emu-note>Beware that dates at the beginning of a year may be part of a week from the preceding year, and dates at the end of a year may be part of a week at the beginning of the next year, as the first week of any year is defined as the week that contains the first Thursday of the year.</emu-note>
    </emu-clause>
  </emu-clause>
</emu-clause>
