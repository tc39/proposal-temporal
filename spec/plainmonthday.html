<!DOCTYPE html>
<meta charset="utf8">

<emu-clause id="sec-temporal-plainmonthday-objects">
  <h1>Temporal.PlainMonthDay Objects</h1>
  <p>A Temporal.PlainMonthDay object is an Object that contains integers corresponding to a particular month and day in a particular calendar.</p>

  <emu-clause id="sec-temporal-plainmonthday-constructor">
    <h1>The Temporal.PlainMonthDay Constructor</h1>
    <p>The Temporal.PlainMonthDay constructor:</p>
    <ul>
      <li>
        creates and initializes a new Temporal.PlainMonthDay object when called as a constructor.
      </li>
      <li>
        is not intended to be called as a function and will throw an exception when called in that manner.
      </li>
      <li>
        may be used as the value of an `extends` clause of a class definition.
        Subclass constructors that intend to inherit the specified Temporal.PlainMonthDay behaviour must
        include a super call to the %Temporal.PlainMonthDay% constructor to create and initialize subclass
        instances with the necessary internal slots.
      </li>
    </ul>

    <emu-clause id="sec-temporal.plainmonthday">
      <h1>Temporal.PlainMonthDay ( _isoMonth_, _isoDay_ [ , _calendar_ [ , _referenceISOYear_ ] ] )</h1>
      <p>
        This function performs the following steps when called:
      </p>
      <emu-alg>
        1. If NewTarget is *undefined*, then
          1. Throw a *TypeError* exception.
        1. If _referenceISOYear_ is *undefined*, then
          1. Set _referenceISOYear_ to *1972*<sub>ùîΩ</sub> (the first ISO 8601 leap year after the epoch).
        1. Let _m_ be ? ToIntegerWithTruncation(_isoMonth_).
        1. Let _d_ be ? ToIntegerWithTruncation(_isoDay_).
        1. If _calendar_ is *undefined*, set _calendar_ to *"iso8601"*.
        1. If _calendar_ is not a String, throw a *TypeError* exception.
        1. If IsBuiltinCalendar(_calendar_) is *false*, throw a *RangeError* exception.
        1. Set _calendar_ to CanonicalizeUValue(*"ca"*, _calendar_).
        1. Let _y_ be ? ToIntegerWithTruncation(_referenceISOYear_).
        1. Return ? CreateTemporalMonthDay(_m_, _d_, _calendar_, _y_, NewTarget).
      </emu-alg>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-the-temporal-plainmonthday-constructor">
    <h1>Properties of the Temporal.PlainMonthDay Constructor</h1>
    <p>The value of the [[Prototype]] internal slot of the Temporal.PlainMonthDay constructor is the intrinsic object %Function.prototype%.</p>
    <p>The Temporal.PlainMonthDay constructor has the following properties:</p>

    <emu-clause id="sec-temporal.plainmonthday.prototype">
      <h1>Temporal.PlainMonthDay.prototype</h1>
      <p>The initial value of `Temporal.PlainMonthDay.prototype` is %Temporal.PlainMonthDay.prototype%.</p>
      <p>This property has the attributes { [[Writable]]: *false*, [[Enumerable]]: *false*, [[Configurable]]: *false* }.</p>
    </emu-clause>

    <emu-clause id="sec-temporal.plainmonthday.from">
      <h1>Temporal.PlainMonthDay.from ( _item_ [ , _options_ ] )</h1>
      <p>
        This function performs the following steps when called:
      </p>
      <emu-alg>
        1. If _item_ is an Object and _item_ has an [[InitializedTemporalMonthDay]] internal slot, then
          1. Set _options_ to ? GetOptionsObject(_options_).
          1. Perform ? GetTemporalOverflowOption(_options_).
          1. Return ! CreateTemporalMonthDay(_item_.[[ISOMonth]], _item_.[[ISODay]], _item_.[[Calendar]], _item_.[[ISOYear]]).
        1. Return ? ToTemporalMonthDay(_item_, _options_).
      </emu-alg>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-the-temporal-plainmonthday-prototype-object">
    <h1>Properties of the Temporal.PlainMonthDay Prototype Object</h1>

    <p>The Temporal.PlainMonthDay prototype object</p>
    <ul>
      <li>is itself an ordinary object.</li>
      <li>is not a Temporal.PlainMonthDay instance and does not have a [[InitializedTemporalMonthDay]] internal slot.</li>
      <li>has a [[Prototype]] internal slot whose value is %Object.prototype%.</li>
    </ul>

    <emu-note>
      An ECMAScript implementation that includes the ECMA-402 Internationalization API extends this prototype with additional properties in order to represent calendar data.
    </emu-note>

    <emu-clause id="sec-temporal.plainmonthday.prototype.constructor">
      <h1>Temporal.PlainMonthDay.prototype.constructor</h1>
      <p>The initial value of `Temporal.PlainMonthDay.prototype.constructor` is %Temporal.PlainMonthDay%.</p>
    </emu-clause>

    <emu-clause id="sec-temporal.plainmonthday.prototype-%symbol.tostringtag%">
      <h1>Temporal.PlainMonthDay.prototype[ %Symbol.toStringTag% ]</h1>
      <p>
        The initial value of the %Symbol.toStringTag% property is the String value *"Temporal.PlainMonthDay"*.
      </p>
      <p>
        This property has the attributes { [[Writable]]: *false*, [[Enumerable]]: *false*, [[Configurable]]: *true* }.
      </p>
    </emu-clause>

    <emu-clause id="sec-get-temporal.plainmonthday.prototype.calendarid">
      <h1>get Temporal.PlainMonthDay.prototype.calendarId</h1>
      <p>
        `Temporal.PlainMonthDay.prototype.calendarId` is an accessor property whose set accessor function is *undefined*.
        Its get accessor function performs the following steps:
      </p>
      <emu-alg>
        1. Let _monthDay_ be the *this* value.
        1. Perform ? RequireInternalSlot(_monthDay_, [[InitializedTemporalMonthDay]]).
        1. Return _monthDay_.[[Calendar]].
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-get-temporal.plainmonthday.prototype.monthcode">
      <h1>get Temporal.PlainMonthDay.prototype.monthCode</h1>
      <p>
        `Temporal.PlainMonthDay.prototype.monthCode` is an accessor property whose set accessor function is *undefined*.
        Its get accessor function performs the following steps:
      </p>
      <emu-alg>
        1. Let _monthDay_ be the *this* value.
        1. Perform ? RequireInternalSlot(_monthDay_, [[InitializedTemporalMonthDay]]).
        1. Let _isoDate_ be TemporalObjectToISODateRecord(_monthDay_).
        1. Return CalendarMonthCode(_monthDay_.[[Calendar]], _isoDate_).
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-get-temporal.plainmonthday.prototype.day">
      <h1>get Temporal.PlainMonthDay.prototype.day</h1>
      <p>
        `Temporal.PlainMonthDay.prototype.day` is an accessor property whose set accessor function is *undefined*.
        Its get accessor function performs the following steps:
      </p>
      <emu-alg>
        1. Let _monthDay_ be the *this* value.
        1. Perform ? RequireInternalSlot(_monthDay_, [[InitializedTemporalMonthDay]]).
        1. Let _isoDate_ be TemporalObjectToISODateRecord(_monthDay_).
        1. Return ùîΩ(CalendarDay(_monthDay_.[[Calendar]], _isoDate_)).
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal.plainmonthday.prototype.with">
      <h1>Temporal.PlainMonthDay.prototype.with ( _temporalMonthDayLike_ [ , _options_ ] )</h1>
      <p>
        This method performs the following steps when called:
      </p>
      <emu-alg>
        1. Let _monthDay_ be the *this* value.
        1. Perform ? RequireInternalSlot(_monthDay_, [[InitializedTemporalMonthDay]]).
        1. If ? IsPartialTemporalObject(_temporalMonthDayLike_) is *false*, throw a *TypeError* exception.
        1. Let _calendar_ be _monthDay_.[[Calendar]].
        1. Let _fields_ be TemporalObjectToFields(_monthDay_).
        1. Let _partialMonthDay_ be ? PrepareCalendarFields(_calendar_, _temporalMonthDayLike_, ¬´ ~day~, ~month~, ~month-code~, ~year~ ¬ª, ¬´ ¬ª, ~partial~).
        1. Set _fields_ to CalendarMergeFields(_calendar_, _fields_, _partialMonthDay_).
        1. Let _resolvedOptions_ be ? GetOptionsObject(_options_).
        1. Let _overflow_ be ? GetTemporalOverflowOption(_resolvedOptions_).
        1. Let _isoDate_ be ? CalendarMonthDayFromFields(_calendar_, _fields_, _overflow_).
        1. Return ! CreateTemporalMonthDay(_isoDate_.[[Month]], _isoDate_.[[Day]], _calendar_, _isoDate_.[[Year]]).
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal.plainmonthday.prototype.equals">
      <h1>Temporal.PlainMonthDay.prototype.equals ( _other_ )</h1>
      <p>
        This method performs the following steps when called:
      </p>
      <emu-alg>
        1. Let _monthDay_ be the *this* value.
        1. Perform ? RequireInternalSlot(_monthDay_, [[InitializedTemporalMonthDay]]).
        1. Set _other_ to ? ToTemporalMonthDay(_other_).
        1. If _monthDay_.[[ISOMonth]] ‚â† _other_.[[ISOMonth]], return *false*.
        1. If _monthDay_.[[ISODay]] ‚â† _other_.[[ISODay]], return *false*.
        1. If _monthDay_.[[ISOYear]] ‚â† _other_.[[ISOYear]], return *false*.
        1. Return CalendarEquals(_monthDay_.[[Calendar]], _other_.[[Calendar]]).
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal.plainmonthday.prototype.tostring">
      <h1>Temporal.PlainMonthDay.prototype.toString ( [ _options_ ] )</h1>
      <p>
        This method performs the following steps when called:
      </p>
      <emu-alg>
        1. Let _monthDay_ be the *this* value.
        1. Perform ? RequireInternalSlot(_monthDay_, [[InitializedTemporalMonthDay]]).
        1. Set _options_ to ? GetOptionsObject(_options_).
        1. Let _showCalendar_ be ? GetTemporalShowCalendarNameOption(_options_).
        1. Return TemporalMonthDayToString(_monthDay_, _showCalendar_).
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal.plainmonthday.prototype.tolocalestring">
      <h1>Temporal.PlainMonthDay.prototype.toLocaleString ( [ _locales_ [ , _options_ ] ] )</h1>
      <p>
        An ECMAScript implementation that includes the ECMA-402 Internationalization API must implement this method as specified in the ECMA-402 specification.
        If an ECMAScript implementation does not include the ECMA-402 API the following specification of this method is used.
      </p>
      <p>
        The meanings of the optional parameters to this method are defined in the ECMA-402 specification; implementations that do not include ECMA-402 support must not use those parameter positions for anything else.
      </p>
      <p>
        This method performs the following steps when called:
      </p>
      <emu-alg>
        1. Let _monthDay_ be the *this* value.
        1. Perform ? RequireInternalSlot(_monthDay_, [[InitializedTemporalMonthDay]]).
        1. Return TemporalMonthDayToString(_monthDay_, *"auto"*).
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal.plainmonthday.prototype.tojson">
      <h1>Temporal.PlainMonthDay.prototype.toJSON ( )</h1>
      <p>
        This method performs the following steps when called:
      </p>
      <emu-alg>
        1. Let _monthDay_ be the *this* value.
        1. Perform ? RequireInternalSlot(_monthDay_, [[InitializedTemporalMonthDay]]).
        1. Return TemporalMonthDayToString(_monthDay_, *"auto"*).
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal.plainmonthday.prototype.valueof">
      <h1>Temporal.PlainMonthDay.prototype.valueOf ( )</h1>
      <p>
        This method performs the following steps when called:
      </p>
      <emu-alg>
        1. Throw a *TypeError* exception.
      </emu-alg>
      <emu-note>
        <p>
          This method always throws, because in the absence of `valueOf()`, expressions with arithmetic operators such as `plainMonthDay1 > plainMonthDay2` would fall back to being equivalent to `plainMonthDay1.toString() > plainMonthDay2.toString()`.
          Lexicographical comparison of serialized strings might not seem obviously wrong, because the result would sometimes be correct.
          Implementations are encouraged to phrase the error message to point users to `Temporal.PlainDate.compare()` on the corresponding `PlainDate` objects, `Temporal.PlainMonthDay.prototype.equals()`, and/or `Temporal.PlainMonthDay.prototype.toString()`.
        </p>
      </emu-note>
    </emu-clause>

    <emu-clause id="sec-temporal.plainmonthday.prototype.toplaindate">
      <h1>Temporal.PlainMonthDay.prototype.toPlainDate ( _item_ )</h1>
      <p>
        This method performs the following steps when called:
      </p>
      <emu-alg>
        1. Let _monthDay_ be the *this* value.
        1. Perform ? RequireInternalSlot(_monthDay_, [[InitializedTemporalMonthDay]]).
        1. If _item_ is not an Object, then
          1. Throw a *TypeError* exception.
        1. Let _calendar_ be _monthDay_.[[Calendar]].
        1. Let _fields_ be TemporalObjectToFields(_monthDay_).
        1. Let _inputFields_ be ? PrepareCalendarFields(_calendar_, _item_, ¬´ ~year~ ¬ª, ¬´ ¬ª, ¬´ ¬ª).
        1. Let _mergedFields_ be CalendarMergeFields(_calendar_, _fields_, _inputFields_).
        1. Let _isoDate_ be ? CalendarDateFromFields(_calendar_, _mergedFields_, *"constrain"*).
        1. Return ! CreateTemporalDate(_isoDate_.[[Year]], _isoDate_.[[Month]], _isoDate_.[[Day]], _calendar_).
      </emu-alg>
    </emu-clause>
  </emu-clause>

  <emu-clause id="sec-properties-of-temporal-plainmonthday-instances">
    <h1>Properties of Temporal.PlainMonthDay Instances</h1>
    <p>
      Temporal.PlainMonthDay instances are ordinary objects that inherit properties from the %Temporal.PlainMonthDay.prototype% intrinsic object.
      Temporal.PlainMonthDay instances are initially created with the internal slots described in <emu-xref href="#table-internal-slots-of-temporalmonthday-instances"></emu-xref>.
    </p>
    <emu-table id="table-internal-slots-of-temporalmonthday-instances" caption="Internal Slots of Temporal.PlainMonthDay Instances">
      <table>
        <tr>
          <th>
            Internal Slot
          </th>
          <th>
            Description
          </th>
        </tr>
        <tr>
          <td>
            [[InitializedTemporalMonthDay]]
          </td>
          <td>
            The only specified use of this slot is for distinguishing Temporal.PlainMonthDay instances from other objects.
          </td>
        </tr>
        <tr>
          <td>
            [[ISOYear]]
          </td>
          <td>
            An integer representing the year in the ISO 8601 calendar.
            This slot is used by the calendar object in the [[Calendar]] slot to disambiguate if the [[ISOMonth]] and [[ISODay]] slots are not enough to uniquely identify a month and day in that calendar.
          </td>
        </tr>
        <tr>
          <td>
            [[ISOMonth]]
          </td>
          <td>
            An integer between 1 and 12, inclusive, representing the month of the year in the ISO 8601 calendar.
          </td>
        </tr>
        <tr>
          <td>
            [[ISODay]]
          </td>
          <td>
            An integer between 1 and ISODaysInMonth([[ISOYear]], [[ISOMonth]]), inclusive, representing the day of the month in the ISO 8601 calendar.
          </td>
        </tr>
        <tr>
          <td>
            [[Calendar]]
          </td>
          <td>
            A String representing the calendar.
          </td>
        </tr>
      </table>
    </emu-table>
  </emu-clause>

  <emu-clause id="sec-temporal-plainmonthday-abstract-ops">
    <h1>Abstract Operations</h1>

    <emu-clause id="sec-temporal-totemporalmonthday" type="abstract operation">
      <h1>
        ToTemporalMonthDay (
          _item_: an ECMAScript language value,
          optional _options_: an ECMAScript language value,
        ): either a normal completion containing a Temporal.PlainMonthDay or a throw completion
      </h1>
      <dl class="header">
        <dt>description</dt>
        <dd>It returns its argument _item_ if it is already a Temporal.PlainMonthDay instance, converts _item_ to a new Temporal.PlainMonthDay instance if possible, and throws otherwise.</dd>
      </dl>
      <emu-alg>
        1. If _options_ is not present, set _options_ to *undefined*.
        1. If _item_ is a Object, then
          1. If _item_ has an [[InitializedTemporalMonthDay]] internal slot, then
            1. Set _options_ to ? GetOptionsObject(_options_).
            1. Perform ? GetTemporalOverflowOption(_options_).
            1. Return _item_.
          1. Let _calendar_ be ? GetTemporalCalendarIdentifierWithISODefault(_item_).
          1. Let _fields_ be ? PrepareCalendarFields(_calendar_, _item_, ¬´ ~day~, ~month~, ~month-code~, ~year~ ¬ª, ¬´¬ª, ¬´¬ª).
          1. Set _options_ to ? GetOptionsObject(_options_).
          1. Let _overflow_ be ? GetTemporalOverflowOption(_options_).
          1. Let _isoDate_ be ? CalendarMonthDayFromFields(_calendar_, _fields_, _overflow_).
          1. Return ! CreateTemporalMonthDay(_isoDate_.[[Month]], _isoDate_.[[Day]], _calendar_, _isoDate_.[[Year]]).
        1. If _item_ is not a String, throw a *TypeError* exception.
        1. Let _result_ be ? ParseTemporalMonthDayString(_item_).
        1. Let _calendar_ be _result_.[[Calendar]].
        1. If _calendar_ is ~empty~, set _calendar_ to *"iso8601"*.
        1. If IsBuiltinCalendar(_calendar_) is *false*, throw a *RangeError* exception.
        1. Set _calendar_ to CanonicalizeUValue(*"ca"*, _calendar_).
        1. Set _options_ to ? GetOptionsObject(_options_).
        1. Perform ? GetTemporalOverflowOption(_options_).
        1. If _result_.[[Year]] is ~empty~, then
          1. Assert: _calendar_ is *"iso8601"*.
          1. Let _referenceISOYear_ be 1972 (the first ISO 8601 leap year after the epoch).
          1. Return ! CreateTemporalMonthDay(_result_.[[Month]], _result_.[[Day]], _calendar_, _referenceISOYear_).
        1. Let _isoDate_ be CreateISODateRecord(_result_.[[Year]], _result_.[[Month]], _result_.[[Day]]).
        1. Set _result_ to ISODateToFields(_calendar_, _isoDate_, ~month-day~).
        1. NOTE: The following operation is called with *"constrain"* regardless of the value of _overflow_, in order for the calendar to store a canonical value in the [[ISOYear]] internal slot of the result.
        1. Set _isoDate_ to ? CalendarMonthDayFromFields(_calendar_, _result_, *"constrain"*).
        1. Return ! CreateTemporalMonthDay(_isoDate_.[[Month]], _isoDate_.[[Day]], _calendar_, _isoDate_.[[Year]]).
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal-createtemporalmonthday" type="abstract operation">
      <h1>
        CreateTemporalMonthDay (
          _isoMonth_: an integer,
          _isoDay_: an integer,
          _calendar_: a String or Object,
          _referenceISOYear_: an integer,
          optional _newTarget_: a constructor,
        ): either a normal completion containing a Temporal.PlainMonthDay or a throw completion
      </h1>
      <dl class="header">
        <dt>description</dt>
        <dd>It creates a Temporal.PlainMonthDay instance and fills the internal slots with valid values.</dd>
      </dl>
      <emu-alg>
        1. If IsValidISODate(_referenceISOYear_, _isoMonth_, _isoDay_) is *false*, throw a *RangeError* exception.
        1. If ISODateWithinLimits(_referenceISOYear_, _isoMonth_, _isoDay_) is *false*, throw a *RangeError* exception.
        1. If _newTarget_ is not present, set _newTarget_ to %Temporal.PlainMonthDay%.
        1. Let _object_ be ? OrdinaryCreateFromConstructor(_newTarget_, *"%Temporal.PlainMonthDay.prototype%"*, ¬´ [[InitializedTemporalMonthDay]], [[ISOMonth]], [[ISODay]], [[ISOYear]], [[Calendar]] ¬ª).
        1. Set _object_.[[ISOMonth]] to _isoMonth_.
        1. Set _object_.[[ISODay]] to _isoDay_.
        1. Set _object_.[[Calendar]] to _calendar_.
        1. Set _object_.[[ISOYear]] to _referenceISOYear_.
        1. Return _object_.
      </emu-alg>
    </emu-clause>

    <emu-clause id="sec-temporal-temporalmonthdaytostring" type="abstract operation">
      <h1>
        TemporalMonthDayToString (
          _monthDay_: a Temporal.MonthDay,
          _showCalendar_: *"auto"*, *"always"*, *"never"*, or *"critical"*,
        ): a String
      </h1>
      <dl class="header">
        <dt>description</dt>
        <dd>It formats _monthDay_ into an ISO 8601 string.</dd>
      </dl>
      <emu-alg>
        1. Let _month_ be ToZeroPaddedDecimalString(_monthDay_.[[ISOMonth]], 2).
        1. Let _day_ be ToZeroPaddedDecimalString(_monthDay_.[[ISODay]], 2).
        1. Let _result_ be the string-concatenation of _month_, the code unit 0x002D (HYPHEN-MINUS), and _day_.
        1. If _showCalendar_ is one of *"always"* or *"critical"*, or if _monthDay_.[[Calendar]] is not *"iso8601"*, then
          1. Let _year_ be PadISOYear(_monthDay_.[[ISOYear]]).
          1. Set _result_ to the string-concatenation of _year_, the code unit 0x002D (HYPHEN-MINUS), and _result_.
        1. Let _calendarString_ be FormatCalendarAnnotation(_monthDay_.[[Calendar]], _showCalendar_).
        1. Set _result_ to the string-concatenation of _result_ and _calendarString_.
        1. Return _result_.
      </emu-alg>
    </emu-clause>
  </emu-clause>
</emu-clause>
