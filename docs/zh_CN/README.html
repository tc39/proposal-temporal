<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Temporal documentation</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/kognise/water.css@latest/dist/light.min.css">
    <script type="application/javascript" src="../playground.js"></script>
    <link rel="stylesheet" type="text/css" href="../prism.css">
    <script>
      Temporal = { ...temporal.Temporal };
      Object.assign(Intl, temporal.Intl);

      // Customize output of Temporal objects for Chrome DevTools
      if (!window.devtoolsFormatters)
        window.devtoolsFormatters = [];
      window.devtoolsFormatters.push({
        header(x) {
          for (const type of [
            Temporal.Instant,
            Temporal.Calendar,
            Temporal.PlainDate,
            Temporal.PlainDateTime,
            Temporal.Duration,
            Temporal.PlainMonthDay,
            Temporal.PlainTime,
            Temporal.TimeZone,
            Temporal.PlainYearMonth
          ]) {
            if (x instanceof type) return ['span', {}, `${x[Symbol.toStringTag]} <${x}>`];
          }
          return null;
        },
        hasBody(x) {
          return x instanceof Temporal.Duration;
        },
        body(x) {
          const out = ['ol', { style: 'list-style-type: none;' }];
          for (const prop of [
            'years',
            'months',
            'weeks',
            'days',
            'hours',
            'minutes',
            'seconds',
            'milliseconds',
            'microseconds',
            'nanoseconds'
          ]) {
            if (x[prop] !== 0) out.push([
              'li',
              {},
              ['span', { style: 'color: purple;' }, prop],
              `: `,
              ['span', { style: 'color: blue;' }, x[prop]]
            ]);
          }
          return out;
        }
      });
    </script>
    <style>
      /* https://github.com/kognise/water.css/blob/master/src/variables-light.css */
      :root {
        --background: #efefef;
        --text-muted: #999999;
        --text-bright: #000000;
        --text-width: 900px;
        --variable: #39a33c;
      }
      body {
        font-size: 18px;
        max-width: var(--text-width);
        padding-top: 40px;  /* extra padding for banner */
        line-height: 1.5;
      }
      pre { border-left: 4px solid var(--variable); }
      code {
        padding: 1px 5px 2px 5px;
        line-height: 1.1;
        display: inline-block;
      }
      a code { color: inherit; }
      a code:hover { text-decoration: underline; }
      pre code { line-height: 1.4; }
      pre code[class*="language-"] { font-size: 0.85em; }
      pre[class*="language-"] { padding: 0.5em; }
      h1 { margin-top: 13px; }
      h2 { border-bottom: 2px solid var(--text-muted); margin-top: 2em; }
      h3 {
        border-bottom: 1px solid var(--text-muted);
        color: var(--text-muted);
        font-weight: normal;
      }
      h3 em { font-weight: bold; }
      h3 strong { color: var(--text-bright); }
      :not(h2) + h3 { margin-top: 2em; }
      footer {
        border-top: 1px solid var(--background);
        color: var(--text-muted);
        font-size: 0.8em;
        margin-top: 2em;
        padding-top: 10px;
      }
      .heading-link {
        left: calc((100vw - var(--text-width)) / 2 - 1.5em);
        opacity: 0;
        position: absolute;
        transition: opacity 150ms;
      }
      .heading-link:hover { text-decoration: none; }
      .heading-link::before { content: '¶'; }
      h2:hover .heading-link, h3:hover .heading-link, h4:hover .heading-link, h5:hover .heading-link { opacity: 0.75; }
      .banner {
        /* Gradient from https://joshnh.com/weblog/how-to-make-an-alert-bar/ */
        background-color: #fce94f;
        background-image: linear-gradient(135deg,
                                          transparent,
                                          transparent 25%,
                                          rgba(0, 0, 0, .05) 25%,
                                          rgba(0, 0, 0, .05) 50%,
                                          transparent 50%,
                                          transparent 75%,
                                          rgba(0, 0, 0, .05) 75%,
                                          rgba(0, 0, 0, .05));
        background-size: 20px 20px;
        box-shadow: 0 5px 0 rgba(0, 0, 0, .1);
        left: 0;
        padding: 0.4em 0;
        position: absolute;
        text-align: center;
        top: 0;
        width: 100%;
      }
    </style>
  </head>
  <body>
    <div class="banner">
      This Stage 3 proposal is <strong><a href="https://blogs.igalia.com/compilers/2020/06/23/dates-and-times-in-javascript/">experimental.</a></strong>
      <strong>Do</strong> try it and <a href="https://github.com/tc39/proposal-temporal/issues">report bugs</a>; <strong>don't</strong> use it in production!
    </div>
<h1 id="temporal"><a class="heading-link" href="#temporal"></a>Temporal</h3><details>
  <summary><strong>Table of Contents</strong></summary>
<ul>
<li><a href="#介绍">介绍</a>
</li>
<li><a href="#cookbook">Cookbook</a>
</li>
<li><a href="#api-文档">API 文档</a>
<ul>
<li><a href="#Temporal-Now">Temporal.Now</a>
</li>
<li><a href="#Temporal-Instant">Temporal.Instant</a>
</li>
<li><a href="#Temporal-ZonedDateTime">Temporal.ZonedDateTime</a>
</li>
<li><a href="#Temporal-PlainDate">Temporal.PlainDate</a>
</li>
<li><a href="#Temporal-PlainTime">Temporal.PlainTime</a>
</li>
<li><a href="#Temporal-PlainDateTime">Temporal.PlainDateTime</a>
</li>
<li><a href="#Temporal-PlainYearMonth">Temporal.PlainYearMonth</a>
</li>
<li><a href="#Temporal-PlainMonthDay">Temporal.PlainMonthDay</a>
</li>
<li><a href="#Temporal-Duration">Temporal.Duration</a>
<ul>
<li><a href="#时间平衡">时间平衡</a>
</li>
</ul>
</li>
<li><a href="#Temporal-TimeZone">Temporal.TimeZone</a>
</li>
<li><a href="#Temporal-Calendar">Temporal.Calendar</a>
</li>
</ul>
</li>
<li><a href="#对象关系">对象关系</a>
</li>
<li><a href="#字符串持久化">字符串持久化</a>
</li>
<li><a href="#其它文档">其它文档</a>
<ul>
<li><a href="#----">主要概念</a>
</li>
</ul>
</li>
</ul>
</details>

<h2 id="介绍"><a class="heading-link" href="#介绍"></a>介绍</h3><p><code>Date</code> 一直是 ECMAScript 长期以来的痛点。这是一个关于 <code>Temporal</code> 的提议，它是一个全局对象，像 <code>Math</code> 一样位于顶级命名空间中，为 ECMAScript 语言带来了现代化的日期、时间接口。
关于 <code>Date</code> 的一些问题，和 Temporal 的目的，具体参考<a href="https://maggiepint.com/2017/04/09/fixing-javascript-date-getting-started/">修复 JavaScript 日期</a>。</p>
<p>Temporal 通过以下方式解决了这些问题：</p>
<ul>
<li>提供了易于使用的日期、时间计算接口</li>
<li>对所有时区的出色支持，包括对夏令时的计算</li>
<li>该对象明确的表示了一个特定的日期和时间</li>
<li>解析一个严格规定的字符串格式</li>
<li>支持非公历历法</li>
</ul>
<p>Temporal 为日期、时间和其它的有限情况提供了单独的 ECMAScript 类。这提高了代码的可读性，并防止了一些因 0 或 UTC 或错误的时区而引发的 BUG。</p>
<h2 id="cookbook"><a class="heading-link" href="#cookbook"></a>Cookbook</h3><p><a href="../cookbook.html">cookbook</a> 可以帮助你开始了解和学习 Temporal 的工作原理。</p>
<h2 id="api-文档"><a class="heading-link" href="#api-文档"></a>API 文档</h3><p>Temporal 的接口遵循惯例，使用以 &quot;Plain&quot; 开头的类型名（如 <code>Temporal.PlainDate</code>，<code>Temporal.PlainTime</code>，和 <code>Temporal.PlainDateTime</code>）表示没有与之关联时区的对象。
由于时区和夏令时的关系，在这种类型和精确时间类型（<code>Temporal.Instant</code> 和 <code>Temporal.ZonedDateTime</code>）之间转换可能存在歧义，Temporal API 允许开发者来配置如何解决这种歧义。</p>
<p>几个重要的概念将在其它地方解释：<a href="../ambiguity.html">精确时间，钟表时间，时区，夏令时，处理歧义等</a>。</p>
<h3 id="Temporal-Now"><a class="heading-link" href="#Temporal-Now"></a><strong>Temporal.Now</strong></h3><ul>
<li><code>Temporal.Now.instant()</code> - 获取自<a href="https://en.wikipedia.org/wiki/Unix_time">Unix 时间</a>以来的精确时间</li>
<li><code>Temporal.Now.timeZone()</code> - 获取当前系统时区</li>
<li><code>Temporal.Now.zonedDateTime(calendar)</code> - 以系统时区和给定的日期格式获取当前的日期时间</li>
<li><code>Temporal.Now.zonedDateTimeISO()</code> - 以系统时区和 ISO-8601 格式获取当前的日期时间</li>
<li><code>Temporal.Now.plainDate(calendar)</code> - 以系统时区和给定的日期格式获取当前的日期</li>
<li><code>Temporal.Now.plainDateISO()</code> - 以系统时区和 ISO-8601 格式获取当前的日期</li>
<li><code>Temporal.Now.plainTimeISO()</code> - 以系统时区和 ISO-8601 格式获取当前的时间</li>
<li><code>Temporal.Now.plainDateTime(calendar)</code> - 返回当前系统时区的日期/时间，返回对象不包含时区信息，因此不应该将其用于夏令时的时间推导上。</li>
<li><code>Temporal.Now.plainDateTimeISO()</code> - 与上面相同，但是返回 ISO-8601 格式的日期时间</li>
</ul>
<pre class="language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Initialization complete'</span><span class="token punctuation">,</span> Temporal<span class="token punctuation">.</span>Now<span class="token punctuation">.</span><span class="token function">instant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 示例输出：</span>
<span class="token comment">// Initialization complete 2021-01-13T20:57:01.500944804Z</span></code></pre><p>更多详细内容参见 <a href="../now.html">Temporal.Now 文档</a>。</p>
<h3 id="Temporal-Instant"><a class="heading-link" href="#Temporal-Instant"></a><strong>Temporal.Instant</strong></h3><p><code>Temporal.Instant</code> 代表一个固定的时间点（称为 <strong>&quot;精确时间&quot;</strong>），不考虑历法和地点，例如：UTC 时间 1969 年 7 月 20 日 20 时 17 分。</p>
<p>为了获得人类可读的时间表示，可以使用 <code>Temporal.TimeZone</code> 或 <code>Temporal.Calendar</code> 与 <code>Temporal.ZonedDateTime</code> 或 <code>Temporal.PlainDateTime</code> 相结合。</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> instant <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>Instant<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'1969-07-20T20:17Z'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
instant<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => '1969-07-20T20:17:00Z'</span>
instant<span class="token punctuation">.</span>epochMilliseconds<span class="token punctuation">;</span> <span class="token comment">// => -14182980000</span></code></pre><p>更多详细内容参见 <a href="../instant.html">Temporal.Instant 文档</a>。</p>
<h3 id="Temporal-ZonedDateTime"><a class="heading-link" href="#Temporal-ZonedDateTime"></a><strong>Temporal.ZonedDateTime</strong></h3><p><code>Temporal.ZonedDateTime</code> 是一个时区完备、历法完备的日期/时间对象，从地球某一特定区域的角度看，它代表了一个已经发生（或将要发生）的真实事件，例如：太平洋时间 1995 年 12 月 7 日凌晨 3:24（公历）。
该类型为需要时区的用例进行了优化，包括夏令时运算和与 RFC 5545（iCalendar）的互操作性。</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> zonedDateTime <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>ZonedDateTime<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">timeZone</span><span class="token operator">:</span> <span class="token string">'America/Los_Angeles'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">year</span><span class="token operator">:</span> <span class="token number">1995</span><span class="token punctuation">,</span>
  <span class="token literal-property property">month</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
  <span class="token literal-property property">day</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
  <span class="token literal-property property">hour</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token literal-property property">minute</span><span class="token operator">:</span> <span class="token number">24</span><span class="token punctuation">,</span>
  <span class="token literal-property property">second</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
  <span class="token literal-property property">millisecond</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token literal-property property">microsecond</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token literal-property property">nanosecond</span><span class="token operator">:</span> <span class="token number">500</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => 1995-12-07T03:24:30.0000035-08:00[America/Los_Angeles]</span></code></pre><p>作为最广泛的 <code>Temporal</code> 类型，<code>Temporal.ZonedDateTime</code> 可以被认为是 <code>Temporal.TimeZone</code>，<code>Temporal.Instant</code>，和 <code>Temporal.PlainDateTime</code>（包括 <code>Temporal.Calendar</code>）的组合。</p>
<p>更多详细内容参见 <a href="../zoneddatetime.html">Temporal.ZonedDateTime 文档</a>。</p>
<h3 id="Temporal-PlainDate"><a class="heading-link" href="#Temporal-PlainDate"></a><strong>Temporal.PlainDate</strong></h3><p><code>Temporal.PlainDate</code> 对象代表了一个不与特定时间或时区相关的日历日期，例如：2006 年 8 月 24 日。</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> date <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>PlainDate<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">year</span><span class="token operator">:</span> <span class="token number">2006</span><span class="token punctuation">,</span> <span class="token literal-property property">month</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token literal-property property">day</span><span class="token operator">:</span> <span class="token number">24</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => 2006-08-24</span>
date<span class="token punctuation">.</span>year<span class="token punctuation">;</span> <span class="token comment">// => 2006</span>
date<span class="token punctuation">.</span>inLeapYear<span class="token punctuation">;</span> <span class="token comment">// => false</span>
date<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => '2006-08-24'</span></code></pre><p>也可以转换为部分日期，如 <code>Temporal.PlainYearMonth</code> 和 <code>Temporal.PlainMonthDay</code>。</p>
<p>更多详细内容参见 <a href="../plaindate.html">Temporal.PlainDate 文档</a>。</p>
<h3 id="Temporal-PlainTime"><a class="heading-link" href="#Temporal-PlainTime"></a><strong>Temporal.PlainTime</strong></h3><p><code>Temporal.PlainTime</code> 对象代表了一个不与特定时间或时区相关的钟表时间，例如：下午 7:39。</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> time <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>PlainTime<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">hour</span><span class="token operator">:</span> <span class="token number">19</span><span class="token punctuation">,</span>
  <span class="token literal-property property">minute</span><span class="token operator">:</span> <span class="token number">39</span><span class="token punctuation">,</span>
  <span class="token literal-property property">second</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
  <span class="token literal-property property">millisecond</span><span class="token operator">:</span> <span class="token number">68</span><span class="token punctuation">,</span>
  <span class="token literal-property property">microsecond</span><span class="token operator">:</span> <span class="token number">346</span><span class="token punctuation">,</span>
  <span class="token literal-property property">nanosecond</span><span class="token operator">:</span> <span class="token number">205</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => 19:39:09.068346205</span>

time<span class="token punctuation">.</span>second<span class="token punctuation">;</span> <span class="token comment">// => 9</span>
time<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => '19:39:09.068346205'</span></code></pre><p>更多详细内容参见 <a href="../plaintime.html">Temporal.PlainTime 文档</a>。</p>
<h3 id="Temporal-PlainDateTime"><a class="heading-link" href="#Temporal-PlainDateTime"></a><strong>Temporal.PlainDateTime</strong></h3><p><code>Temporal.PlainDateTime</code> 代表一个不包含时区信息的日历日期和钟表时间，例如，1995 年 12 月 7 日 下午 3 点（公历）。</p>
<p>它可以使用 <code>Temporal.TimeZone</code> 转换为 <code>Temporal.ZonedDateTime</code>。
对于需要时区的用例，特别是你想用其它值进行计算，考虑使用 <code>Temporal.ZonedDateTime</code> 代替，因为该类型会自动调整夏令时。</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> dateTime <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>PlainDateTime<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">year</span><span class="token operator">:</span> <span class="token number">1995</span><span class="token punctuation">,</span>
  <span class="token literal-property property">month</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
  <span class="token literal-property property">day</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
  <span class="token literal-property property">hour</span><span class="token operator">:</span> <span class="token number">15</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => 1995-12-07T15:00:00</span>
<span class="token keyword">const</span> dateTime1 <span class="token operator">=</span> dateTime<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">minute</span><span class="token operator">:</span> <span class="token number">17</span><span class="token punctuation">,</span>
  <span class="token literal-property property">second</span><span class="token operator">:</span> <span class="token number">19</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => 1995-12-07T15:17:19</span></code></pre><p>更多详细内容参见 <a href="../plaindatetime.html">Temporal.PlainDateTime 文档</a>。</p>
<h3 id="Temporal-PlainYearMonth"><a class="heading-link" href="#Temporal-PlainYearMonth"></a><strong>Temporal.PlainYearMonth</strong></h3><p>一个不包括天的日期。这对于表达“2020 年 10 月的会议”这种事很有用。</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> yearMonth <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>PlainYearMonth<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">year</span><span class="token operator">:</span> <span class="token number">2020</span><span class="token punctuation">,</span> <span class="token literal-property property">month</span><span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => 2020-10</span>
yearMonth<span class="token punctuation">.</span>daysInMonth<span class="token punctuation">;</span> <span class="token comment">// => 31</span>
yearMonth<span class="token punctuation">.</span>daysInYear<span class="token punctuation">;</span> <span class="token comment">// => 366</span></code></pre><p>更多详细内容参见 <a href="../plainyearmonth.html">Temporal.PlainYearMonth 文档</a>。</p>
<h3 id="Temporal-PlainMonthDay"><a class="heading-link" href="#Temporal-PlainMonthDay"></a><strong>Temporal.PlainMonthDay</strong></h3><p>一个不包括年的日期。这对于表达“巴士底日在 7 月 14 日”这种事很有用。</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> monthDay <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>PlainMonthDay<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">month</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token literal-property property">day</span><span class="token operator">:</span> <span class="token number">14</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => 07-14</span>
<span class="token keyword">const</span> date <span class="token operator">=</span> monthDay<span class="token punctuation">.</span><span class="token function">toPlainDate</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">year</span><span class="token operator">:</span> <span class="token number">2030</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => 2030-07-14</span>
date<span class="token punctuation">.</span>dayOfWeek<span class="token punctuation">;</span> <span class="token comment">// => 7</span></code></pre><p>更多详细内容参见 <a href="../plainmonthday.html">Temporal.PlainMonthDay 文档</a>。</p>
<h3 id="Temporal-Duration"><a class="heading-link" href="#Temporal-Duration"></a><strong>Temporal.Duration</strong></h3><p><code>Temporal.Duration</code> 表达了一个时间长度，如 5 分钟 30 秒。它被用于日期/时间运算和测量 <code>Temporal</code> 对象之间的差异。</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> duration <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>Duration<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">hours</span><span class="token operator">:</span> <span class="token number">130</span><span class="token punctuation">,</span>
  <span class="token literal-property property">minutes</span><span class="token operator">:</span> <span class="token number">20</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

duration<span class="token punctuation">.</span><span class="token function">total</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">unit</span><span class="token operator">:</span> <span class="token string">'second'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => 469200</span></code></pre><p>更多详细内容参见 <a href="../duration.html">Temporal.Duration 文档</a>。</p>
<h4 id="时间平衡"><a class="heading-link" href="#时间平衡"></a>时间平衡</h3><p>与 <code>Temporal</code> 的其它的类型不同，<code>Temporal.Duration</code> 并不会自然转换：你可能想要一个“90 分钟”的时长，而不希望它意外的变成“1 小时 30 分钟”。</p>
<p>更多详细内容参见 <a href="../balancing.html">时间平衡</a>。</p>
<h3 id="Temporal-TimeZone"><a class="heading-link" href="#Temporal-TimeZone"></a><strong>Temporal.TimeZone</strong></h3><p><code>Temporal.TimeZone</code> 代表一个 IANA 时区，一个特定的 UTC 偏移，或 UTC 本身。TimeZone 将 UTC 日期/时间转换为本地日期/时间。
因此，<code>Temporal.TimeZone</code> 可以用来在 <code>Temporal.Instant</code> 和 <code>Temporal.PlainDateTime</code> 之间进行转换，以及找出特定 <code>Temporal.Instant</code> 的偏移。</p>
<p>也可以实现你自己的时区。</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> timeZone <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>TimeZone<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'Africa/Cairo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
timeZone<span class="token punctuation">.</span><span class="token function">getInstantFor</span><span class="token punctuation">(</span><span class="token string">'2000-01-01T00:00'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => 1999-12-31T22:00:00Z</span>
timeZone<span class="token punctuation">.</span><span class="token function">getPlainDateTimeFor</span><span class="token punctuation">(</span><span class="token string">'2000-01-01T00:00Z'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => 2000-01-01T02:00:00</span>
timeZone<span class="token punctuation">.</span><span class="token function">getPreviousTransition</span><span class="token punctuation">(</span>Temporal<span class="token punctuation">.</span>Now<span class="token punctuation">.</span><span class="token function">instant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => 2014-09-25T21:00:00Z</span>
timeZone<span class="token punctuation">.</span><span class="token function">getNextTransition</span><span class="token punctuation">(</span>Temporal<span class="token punctuation">.</span>Now<span class="token punctuation">.</span><span class="token function">instant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// => null</span></code></pre><p>更多详细内容参见 <a href="../timezone.html">Temporal.TimeZone 文档</a>。</p>
<p>有关时区，夏令时，解决歧义的概念解释，见<a href="../ambiguity.html">此文档</a>。</p>
<h3 id="Temporal-Calendar"><a class="heading-link" href="#Temporal-Calendar"></a><strong>Temporal.Calendar</strong></h3><p><code>Temporal.Calendar</code> 代表一个日历系统。大多数代码使用 ISO 8601 格式，但其它的日历系统同样支持。</p>
<p>日期与用于执行日历系统相关操作的 <code>Temporal.Calendar</code> 对象相关联。在内部，这些日期操作是由这个日历对象上的方法来完成的。</p>
<p>也可以实现你自己的日历系统。</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> cal <span class="token operator">=</span> Temporal<span class="token punctuation">.</span>Calendar<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">'iso8601'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> date <span class="token operator">=</span> cal<span class="token punctuation">.</span><span class="token function">dateFromFields</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">year</span><span class="token operator">:</span> <span class="token number">1999</span><span class="token punctuation">,</span> <span class="token literal-property property">month</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token literal-property property">day</span><span class="token operator">:</span> <span class="token number">31</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
date<span class="token punctuation">.</span>monthsInYear<span class="token punctuation">;</span> <span class="token comment">// => 12</span>
date<span class="token punctuation">.</span>daysInYear<span class="token punctuation">;</span> <span class="token comment">// => 365</span></code></pre><p>更多详细内容参见 <a href="../calendar.html">Temporal.Calendar 文档</a>。</p>
<h2 id="对象关系"><a class="heading-link" href="#对象关系"></a>对象关系</h3><img src="../object-model.svg">

<h2 id="字符串持久化"><a class="heading-link" href="#字符串持久化"></a>字符串持久化</h3><p>为了持久性和互操作性，所有的 <code>Temporal</code> 类型都有一个字符串表示。类型和字符串之间的对应关系如下所示。
关于 Temporal 中使用的 ISO 8601 和 RFC 3339 的更多信息和标准化工作，请参考 <a href="../strings.html">ISO 字符串扩展</a>。</p>
<img src="../persistence-model.svg">

<h2 id="其它文档"><a class="heading-link" href="#其它文档"></a>其它文档</h3><h3 id="----"><a class="heading-link" href="#----"></a><strong>主要概念</strong></h3><ul>
<li><a href="../ambiguity.html">Ambiguity</a> &mdash; 解释由于夏令时和时区变化造成的时间缺失和时间重复。</li>
<li><a href="../balancing.html">Balancing</a> &mdash; 解释什么时候 <code>Temporal.Duration</code> 的单位会自然转换，什么时候不会。</li>
<li><a href="../calendar-review.html">Why do Temporal instances have a Calendar?</a> &mdash; 关于为什么像 <code>Temporal.PlainDate</code> 或 <code>Temporal.ZonedDateTime</code> 类型包含日历系统。这些扩展正在与 IETF 积极合作以使其进入标准化流程。</li>
</ul>
    <footer>
      <p>
        This page includes a script which loads an implementation of Temporal in your browser.
        You can open a console in your browser's developer tools and try it out directly!
      </p>
      <p>View this or help contribute on <a href="https://github.com/tc39/proposal-temporal">GitHub</a>.</p>
    </footer>
  </body>
</html>
